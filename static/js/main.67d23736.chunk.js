(this["webpackJsonpgithub-repo-tracker"]=this["webpackJsonpgithub-repo-tracker"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(0),r=n.n(a),o=n(10),c=n.n(o),s=(n(106),n(40)),l=n(14),u=n(15),h=n(17),p=n(16),d=(n(107),n(179)),b=n(169),j=n(166),g=n(73),f=n.n(g),O=n(167),m=n(168),k=n(86),C=n(184),y=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onCloseSearchFunction=function(){e.setState({anchorEl:null})},e.onClickSearchFunction=function(t){e.setState({anchorEl:t.currentTarget})},e.state={anchorEl:null},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("form",{onSubmit:this.props.handleOnSubmit,children:[Object(i.jsxs)(k.a,{id:"search-function-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.onCloseSearchFunction,children:[Object(i.jsx)(C.a,{onClick:this.props.onClickFilterFunction,children:"Filter"}),Object(i.jsx)(C.a,{onClick:this.props.onClickSearchFucntion,children:"Add Repo"})]}),Object(i.jsxs)(j.a,{container:!0,justify:"center",direction:"row",alignItems:"center",spacing:2,children:[Object(i.jsx)(j.a,{item:!0,children:Object(i.jsx)(d.a,{id:"outlined-basic",variant:"outlined",label:"Add a repository to tracking list",placeholder:"user / repository",onChange:this.props.searchFieldInput,InputProps:{startAdornment:Object(i.jsx)(O.a,{position:"start",children:Object(i.jsx)(m.a,{"aria-controls":"search-type-menu","aria-haspopup":"true",onClick:this.onClickSearchFunction,children:Object(i.jsx)(f.a,{color:"primary"})})})}})}),Object(i.jsx)(j.a,{item:!0,children:Object(i.jsx)(b.a,{color:"primary",variant:"contained",type:"submit",size:"large",style:{color:"white"},children:"Add Repo"})})]})]})}}]),n}(r.a.Component),x=n(74),v=n.n(x),R=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onCloseSearchFunction=function(){e.setState({anchorEl:null})},e.onClickSearchFunction=function(t){e.setState({anchorEl:t.currentTarget})},e.state={anchorEl:null},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsxs)(k.a,{id:"search-function-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.onCloseSearchFunction,children:[Object(i.jsx)(C.a,{onClick:this.props.onClickFilterFunction,children:"Filter"}),Object(i.jsx)(C.a,{onClick:this.props.onClickSearchFunction,children:"Add Repo"})]}),Object(i.jsx)(d.a,{id:"outlined-basic",variant:"outlined",label:"Filter tracked repositories by name",placeholder:"repository name",onChange:this.props.filterFieldInput,InputProps:{startAdornment:Object(i.jsx)(O.a,{position:"start",children:Object(i.jsx)(m.a,{"aria-controls":"search-type-menu","aria-haspopup":"true",onClick:this.onClickSearchFunction,children:Object(i.jsx)(v.a,{color:"primary"})})})}})]})}}]),n}(r.a.Component),S=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.searchFieldInput,n=e.handleOnSubmit,a=e.onClickRefresh,r=e.filterFieldInput,o=e.onClickSearchFunction,c=e.onClickFilterFunction;switch(this.props.searchFunctionType){case"search":return Object(i.jsx)(y,{searchFieldInput:t,handleOnSubmit:n,onClickRefresh:a,onClickSearchFunction:o,onClickFilterFunction:c});case"filter":return Object(i.jsx)(R,{filterFieldInput:r,onClickSearchFunction:o,onClickFilterFunction:c});default:return null}}}]),n}(r.a.Component),F=n(174),L=n(176),D=n(175),H=(n(112),n(79)),A=n.n(H),I=(n(113),n(119)),T=n(76),w=n.n(T),N=n(77),E=n.n(N),U=n(78),G=n.n(U),M=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onClickGitHubIcon=function(e){window.open(e,"_blank")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.repo,a=t.onClickCheckMark,r=t.onClickTrashIcon;return Object(i.jsxs)(j.a,{className:"tool-bar",justify:"flex-end",container:!0,direction:"row",alignItems:"center",children:[Object(i.jsx)(j.a,{item:!0,className:"release-status",children:"Tracking ".concat(n.trackingType)}),Object(i.jsx)(j.a,{item:!0,className:"toolbar-empty-space"}),Object(i.jsx)(j.a,{item:!0,className:"github-button",children:Object(i.jsx)(I.a,{title:"Go to GitHub page",children:Object(i.jsx)(m.a,{"aria-label":"github",onClick:function(){return e.onClickGitHubIcon(n.githubLink)},children:Object(i.jsx)(w.a,{})})})}),Object(i.jsx)(j.a,{item:!0,className:"delete-button",children:Object(i.jsx)(I.a,{title:"Untrack repository",children:Object(i.jsx)(m.a,{"aria-label":"delete",onClick:function(){return r(n)},children:Object(i.jsx)(E.a,{})})})}),"highlighted"===this.props.isHighlighted?Object(i.jsx)(j.a,{item:!0,className:"check-button bounce",children:Object(i.jsx)(I.a,{title:"Mark update as seen",children:Object(i.jsx)(m.a,{"aria-label":"check",onClick:function(){return a(n.gitHubRepo)},children:Object(i.jsx)(G.a,{})})})}):Object(i.jsx)(j.a,{item:!0,className:"check-button",children:Object(i.jsx)(m.a,{"aria-label":"check",onClick:function(){return a(n.gitHubRepo)},color:"primary",disableRipple:!0,disableFocusRipple:!0,style:{backgroundColor:"transparent",cursor:"default"},children:Object(i.jsx)(A.a,{})})})]})}}]),n}(r.a.Component),B=n(182),_=n(173),V=n(171),P=n(172),z=n(170);function J(e){var t=e.repo,n=e.toggleDialogVisibility,a=e.open,r=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)};return Object(i.jsx)("div",{children:Object(i.jsxs)(B.a,{className:"repo-dialog",open:a,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(i.jsx)(z.a,{id:"alert-dialog-title",style:{textAlign:"center"},children:"".concat(r(t.trackingType)," Details")}),Object(i.jsx)(V.a,{children:Object(i.jsxs)(P.a,{id:"alert-dialog-description",children:[Object(i.jsx)("b",{children:"Repo:"})," ",t.gitHubRepo,Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Version:"})," ",t.tagName,Object(i.jsx)("br",{}),Object(i.jsxs)("b",{children:[r("".concat(t.trackingType))," Title:"]})," ",t.title,Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Date:"})," ","".concat(t.releaseDate),Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Author:"})," ",t.author,Object(i.jsx)("br",{}),Object(i.jsxs)("b",{children:[r("".concat(t.trackingType))," Notes:"]})," ",t.body]})}),Object(i.jsx)(_.a,{children:Object(i.jsx)(b.a,{onClick:n,color:"primary",children:"Close"})})]})})}var Z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).isHighlighted=function(){var t=e.props,n=t.highlightedRepoList,i=t.repo;return n.includes(i.gitHubRepo)?"highlighted":""},e.toggleDialogVisibility=function(){e.setState({openDialog:!e.state.openDialog})},e.state={openDialog:!1},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.repo,n=e.onClickTrashIcon,a=e.onClickCheckMark;return Object(i.jsxs)("div",{children:[Object(i.jsx)(F.a,{className:"repo ".concat(this.isHighlighted(t.gitHubRepo)),children:Object(i.jsx)(D.a,{onClick:this.toggleDialogVisibility,children:Object(i.jsx)(j.a,{container:!0,direction:"row",alignItems:"center",spacing:2,children:Object(i.jsx)(j.a,{item:!0,className:"card-content",children:Object(i.jsxs)(L.a,{children:[Object(i.jsxs)("h2",{children:[t.gitHubUser,"/",t.gitHubRepo]}),"Latest version: ",t.tagName,Object(i.jsx)("br",{}),"Latest ","".concat(t.trackingType),":"," ",t.releaseDate.split("T").join(" at ").split("Z").join(" UTC")]})})})})}),Object(i.jsx)(M,{onClickTrashIcon:n,onClickCheckMark:a,isHighlighted:this.isHighlighted(),repo:t}),Object(i.jsx)(J,{open:this.state.openDialog,toggleDialogVisibility:this.toggleDialogVisibility,repo:t})]})}}]),n}(r.a.Component),q=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),i=t.call(this,e),e.repoList.forEach((function(e,t){i["repo-".concat(t)]=r.a.createRef()})),i}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.repoList,a=t.onClickTrashIcon,r=t.onClickCheckMark,o=t.highlightedRepoList,c=n.map((function(t,n){return t.releaseDate?Object(i.jsx)(j.a,{item:!0,children:Object(i.jsx)(Z,{repo:t,onClickTrashIcon:a,onClickCheckMark:r,highlightedRepoList:o,ref:e["repo-".concat(n)]})},n):null}));return Object(i.jsx)(j.a,{container:!0,justify:"center",spacing:2,alignItems:"center",direction:"column",children:c})}}]),n}(r.a.Component),K=n(180),Q=n(183),W=n(185),X=n(186),Y=n(177),$=n(81),ee=n.n($),te=n(80),ne=n.n(te),ie=n(84),ae=n.n(ie),re=n(82),oe=n.n(re),ce=(n(115),n(83)),se=n.n(ce),le=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).actions=[{icon:Object(i.jsx)(ne.a,{color:"primary"}),name:"Untrack All",onClick:a.props.deleteAllRepos},{icon:Object(i.jsx)(ee.a,{color:"primary"}),name:"Refresh All",onClick:a.props.getAllReposLatestReleases}],a.onCloseSpeedDial=function(){a.setState({isSpeedDialOpen:!1})},a.onOpenSpeedDial=function(){a.setState({isSpeedDialOpen:!0})},a.onHiddenChange=function(e){a.setState({isSpeedDialHidden:e.target.checked})},a.onClickSpeedDialAction=function(e){a.onCloseSpeedDial(),e()},a.state={isSpeedDialOpen:!1,isSpeedDialHidden:!1,speedDialDirection:"up"},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.speedDialDirection,n=e.isSpeedDialHidden,a=e.isSpeedDialOpen;return Object(i.jsx)(W.a,{className:"speed-dial-control",ariaLabel:"macro-control",hidden:n,icon:Object(i.jsx)(X.a,{icon:Object(i.jsx)(oe.a,{}),openIcon:Object(i.jsx)(se.a,{}),style:{color:"white"}}),onClose:this.onCloseSpeedDial,onOpen:this.onOpenSpeedDial,open:a,direction:t,openIcon:Object(i.jsx)(ae.a,{}),children:this.actions.map((function(e){return Object(i.jsx)(Y.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick,tooltipOpen:!0,style:{whiteSpace:"nowrap"}},e.name)}))})}}]),n}(r.a.Component),ue=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).sortReposByLatestUpdate=function(){},a.handleOnSubmit=function(e){e.preventDefault(),a.parseSearchInput(a.state.searchInput)},a.parseSearchInput=function(e){var t=e.split(" ").join("").split("/"),n=t[0],i=t[1];a.setState({gitHubUser:n,gitHubRepo:i},a.getRepoLatestRelease(n,i))},a.onClickTrashIcon=function(e){var t=a.state.repoList;t=t.filter((function(t){return t!==e})),a.setState({repoList:t})},a.isRepoAlreadyTracked=function(e){var t,n=a.state.repoList,i=Object(s.a)(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.gitHubUser===e.gitHubUser&&r.gitHubRepo===e.gitHubRepo)return!0}}catch(o){i.e(o)}finally{i.f()}return!1},a.onClickCheckMark=function(e){var t=a.state.highlightedRepoList,n=t.indexOf(e);n>-1&&t.splice(n,1),a.setState({highlightedRepoList:t})},a.deleteAllRepos=function(){a.setState({repoList:[],highlightedRepoList:[],repoListOrderedByDateAdded:[],repoListOrderedByName:[]})},a.getAllReposLatestReleases=function(){var e,t=a.state.repoList,n=Object(s.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;a.getRepoLatestRelease(i.gitHubUser,i.gitHubRepo)}}catch(r){n.e(r)}finally{n.f()}},a.getRepoLatestRelease=function(e,t){var n=null,i="https://api.github.com/repos/".concat(e,"/").concat(t,"/releases/latest");fetch(i,{method:"GET",headers:a.state.headers}).then((function(e){return e.json()})).then((function(i){void 0!==i.html_url&&null!==i.html_url?(n={trackingType:"release",gitHubUser:e,gitHubRepo:t,releaseDate:i.published_at,tagName:i.tag_name,message:i.message,body:i.body,title:i.name,author:i.author.login,githubLink:i.html_url},a.getRepoGeneralInfo(n)):a.getRepoLatestCommit(e,t)})).catch((function(n){console.log(n),a.getRepoLatestCommit(e,t)}))},a.getRepoLatestCommit=function(e,t){var n=null,i="https://api.github.com/repos/".concat(e,"/").concat(t,"/commits");fetch(i,{method:"GET",headers:a.state.headers}).then((function(e){return e.json()})).then((function(i){var r=i[0];void 0!==r.sha&&null!==r.sha?(n={trackingType:"commit",gitHubUser:e,gitHubRepo:t,releaseDate:r.commit.committer.date,tagName:"N/A",message:r.commit.message,body:r.commit.message,title:"N/A",author:r.commit.author.name,githubLink:r.html_url},a.getRepoGeneralInfo(n,e,t)):a.setState({alert:"error",isAlertDisplayed:!0})})).catch((function(e){console.log(e),a.setState({alert:"internal_error",isAlertDisplayed:!0})}))},a.getRepoGeneralInfo=function(e,t,n){var i=a.state,r=i.repoList,o=i.highlightedRepoList,c=r,s=[];fetch("https://api.github.com/repos/".concat(t,"/").concat(n),{method:"GET",headers:a.state.headers}).then((function(e){return e.json()})).then((function(t){e.name=t.name,e.description=t.description,a.isRepoAlreadyTracked(e)?a.isRepoGotNewUpdate(e)?(c=a.deleteOutdatedRepo(c,e),console.log("Adding ".concat(e.gitHubUser,"/").concat(e.gitHubRepo," ").concat(e.name)),c.push(e),(s=o).push(e.name),a.setState({repoList:c,alert:"new ".concat(e.trackingType),highlightedRepoList:s,isAlertDisplayed:!0})):a.setState({alert:"no new release",isAlertDisplayed:!0}):(c.push(e),(s=o).push(e.gitHubRepo),a.setState({repoList:c,alert:"success",highlightedRepoList:s,isAlertDisplayed:!0}))})).catch((function(e){console.log(e)}))},a.printRepoList=function(e){console.log("------");var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log("".concat(i.gitHubUser,"/").concat(i.gitHubRepo))}}catch(a){n.e(a)}finally{n.f()}console.log("------")},a.isRepoGotNewUpdate=function(e){var t,n=a.state.repoList,i=Object(s.a)(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.gitHubUser===e.gitHubUser&&r.gitHubRepo===e.gitHubRepo&&r.releaseDate!==e.releaseDate)return console.log("new update for ".concat(e.gitHubUser,"/").concat(e.gitHubRepo," old data: ").concat(r.releaseDate,", new data: ").concat(e.releaseDate)),!0}}catch(o){i.e(o)}finally{i.f()}return!1},a.deleteOutdatedRepo=function(e,t){a.printRepoList(e);var n=e.filter((function(e){return!(e.gitHubUser===t.gitHubUser&&e.gitHubRepo===t.gitHubRepo)})),i=e.filter((function(e){return!n.includes(e)}));return console.log("DELETED ".concat(i[0].gitHubRepo)),i.length>1&&console.log("DELETED ".concat(i[1].gitHubRepo)),n},a.searchFieldInput=function(e){a.setState({searchInput:e.target.value})},a.filterFieldInput=function(e){a.setState({filterInput:e.target.value})},a.filterRepoList=function(e,t){return e.filter((function(e){return e.gitHubRepo.includes(t)}))},a.displayAlert=function(){switch(a.state.alert){case"success":return Object(i.jsx)(K.a,{severity:"success",variant:"filled",onClose:a.onCloseAlert,children:"Added a new repo for tracking"});case"new commit":return Object(i.jsx)(K.a,{severity:"success",variant:"filled",onClose:a.onCloseAlert,children:"Found new commit(s)"});case"new release":return Object(i.jsx)(K.a,{severity:"success",variant:"filled",onClose:a.onCloseAlert,children:"Found new release(s)"});case"no new release":return Object(i.jsx)(K.a,{severity:"info",variant:"filled",onClose:a.onCloseAlert,children:"There is no new update for these repositories"});case"error":return Object(i.jsx)(K.a,{severity:"error",variant:"filled",onClose:a.onCloseAlert,children:"Please check that you have the right user name and repository"});case"internal_error":return Object(i.jsx)(K.a,{severity:"error",variant:"filled",onClose:a.onCloseAlert,children:'Apologies! Apparently we can\'t get any info about releases or commits for this repository. Make sure that you have the correct "user/repository"'});default:return Object(i.jsx)(K.a,{severity:"info",variant:"filled",onClose:a.onCloseAlert,children:"Enter the GitHub user followed by a '/' and the name of the repository"})}},a.onCloseAlert=function(){a.setState({isAlertDisplayed:!1})},a.onClickFilterFunction=function(){a.setState({searchFunctionType:"filter"})},a.onClickSearchFunction=function(){a.setState({searchFunctionType:"search"})},a.state={searchInput:"",filterInput:"",gitHubUser:null,gitHubRepo:null,repoList:[],highlightedRepoList:[],repoListOrderedByDateAdded:[],repoListOrderedByName:[],isAlertDisplayed:!1,searchFunctionType:"search",headers:{Authorization:"Token a6397b9f1bf0a5dd23ba6c4d516e13a852334b96"}},a.repoListRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.repoList,n=e.filterInput,a=e.searchFunctionType,r=e.highlightedRepoList,o=e.isAlertDisplayed;return Object(i.jsxs)("div",{children:[Object(i.jsx)(le,{getAllReposLatestReleases:this.getAllReposLatestReleases,deleteAllRepos:this.deleteAllRepos}),Object(i.jsx)(Q.a,{open:o,autoHideDuration:6e3,onClose:this.onCloseAlert,anchorOrigin:{vertical:"top",horizontal:"center"},children:this.displayAlert()}),Object(i.jsxs)(j.a,{container:!0,alignItems:"center",spacing:5,direction:"column",className:"main-content",children:[Object(i.jsx)(j.a,{item:!0,className:"empty-space"}),Object(i.jsx)(j.a,{item:!0,className:"search-function",children:Object(i.jsx)(S,{searchFieldInput:this.searchFieldInput,handleOnSubmit:this.handleOnSubmit,filterFieldInput:this.filterFieldInput,onClickFilterFunction:this.onClickFilterFunction,onClickSearchFunction:this.onClickSearchFunction,searchFunctionType:a})}),Object(i.jsx)(j.a,{item:!0,children:Object(i.jsx)(q,{repoList:this.filterRepoList(t,n).reverse(),onClickTrashIcon:this.onClickTrashIcon,onClickCheckMark:this.onClickCheckMark,highlightedRepoList:r,ref:this.repoListRef})})]})]})}}]),n}(r.a.Component),he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),r(e),o(e)}))},pe=n(85),de=n(178),be=Object(pe.a)({palette:{primary:{main:"#57C0A1"}}});c.a.render(Object(i.jsx)(de.a,{theme:be,children:Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(ue,{})})}),document.getElementById("root")),he()}},[[116,1,2]]]);
//# sourceMappingURL=main.67d23736.chunk.js.map