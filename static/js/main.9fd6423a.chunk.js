(this["webpackJsonpgithub-repo-tracker"]=this["webpackJsonpgithub-repo-tracker"]||[]).push([[0],{79:function(e,t,n){},80:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var i=n(4),a=n(0),r=n.n(a),c=n(10),s=n.n(c),o=(n(79),n(49)),l=n(15),h=n(16),u=n(20),d=n(18),j=(n(80),n(142)),b=n(133),p=n(127),g=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(i.jsx)("form",{onSubmit:this.props.handleOnSubmit,children:Object(i.jsxs)(p.a,{container:!0,justify:"center",direction:"row",alignItems:"center",spacing:2,children:[Object(i.jsx)(p.a,{item:!0,children:Object(i.jsx)(j.a,{id:"outlined-basic",variant:"outlined",label:"user / repository",onChange:this.props.searchFieldInput})}),Object(i.jsx)(p.a,{item:!0,children:Object(i.jsx)(b.a,{color:"primary",variant:"contained",type:"submit",size:"large",children:"Track Repo"})}),Object(i.jsx)(p.a,{item:!0,children:Object(i.jsx)(b.a,{color:"primary",variant:"contained",size:"large",onClick:function(){return e.props.onClickRefresh()},children:"Refresh"})})]})})}}]),n}(r.a.Component),f=n(139),O=n(141),m=n(140),k=(n(84),n(134)),x=n(60),y=n.n(x),v=(n(85),n(145)),C=n(59),R=n.n(C),L=n(61),I=n.n(L),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onClickGitHubIcon=function(e){window.open(e,"_blank")},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.repo,a=t.onClickCheckMark,r=t.onClickTrashIcon;return Object(i.jsxs)(p.a,{className:"tool-bar",justify:"flex-end",container:!0,direction:"row",children:[Object(i.jsx)(p.a,{item:!0,className:"delete-button",children:Object(i.jsx)(v.a,{title:"Untrack repository",children:Object(i.jsx)(k.a,{"aria-label":"delete",onClick:function(){return r(n)},children:Object(i.jsx)(R.a,{})})})}),Object(i.jsxs)(p.a,{item:!0,className:"check-button",children:[Object(i.jsx)(v.a,{title:"Mark repository as seen",children:Object(i.jsx)(k.a,{"aria-label":"check",onClick:function(){return a(n.name)},children:Object(i.jsx)(y.a,{})})}),Object(i.jsx)(v.a,{title:"Go to GitHub page",children:Object(i.jsx)(k.a,{"aria-label":"github",onClick:function(){return e.onClickGitHubIcon(n.githubLink)},children:Object(i.jsx)(I.a,{})})})]})]})}}]),n}(r.a.Component),N=n(146),S=n(138),w=n(136),D=n(137),G=n(135);function M(e){var t=e.repo,n=e.open,a=e.toggleDialogVisibility;return Object(i.jsx)("div",{children:Object(i.jsxs)(N.a,{className:"repo-dialog",open:n,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(i.jsx)(G.a,{id:"alert-dialog-title",children:"Release Details"}),Object(i.jsx)(w.a,{children:Object(i.jsxs)(D.a,{id:"alert-dialog-description",children:[Object(i.jsx)("b",{children:"Repo:"})," ",t.name,Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Version:"})," ",t.tagName,Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Title:"})," ",t.title,Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Author:"})," ",t.author,Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Details:"})," ",t.body]})}),Object(i.jsx)(S.a,{children:Object(i.jsx)(b.a,{onClick:a,color:"primary",children:"Close"})})]})})}var A=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).isHighlighted=function(t){return e.props.highlightedRepoList.includes(t)?"highlighted":""},e.toggleDialogVisibility=function(){e.setState({openDialog:!e.state.openDialog})},e.state={openDialog:!1},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.repo,n=e.onClickTrashIcon,a=e.onClickCheckMark;return Object(i.jsxs)("div",{children:[Object(i.jsx)(f.a,{className:"repo ".concat(this.isHighlighted(t.name)),children:Object(i.jsx)(m.a,{onClick:this.toggleDialogVisibility,children:Object(i.jsx)(p.a,{container:!0,direction:"row",alignItems:"center",spacing:2,children:Object(i.jsx)(p.a,{item:!0,className:"card-content",children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)("h2",{children:t.name}),"version: ",t.tagName,Object(i.jsx)("br",{}),"release:"," ",t.releaseDate.split("T").join(" at ").split("Z").join(" UTC")]})})})})}),Object(i.jsx)(T,{onClickTrashIcon:n,onClickCheckMark:a,repo:t}),Object(i.jsx)(M,{open:this.state.openDialog,toggleDialogVisibility:this.toggleDialogVisibility,repo:t})]})}}]),n}(r.a.Component),F=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),i=t.call(this,e),e.repoList.forEach((function(e,t){i["repo-".concat(t)]=r.a.createRef()})),i}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.repoList,a=t.onClickTrashIcon,r=t.onClickCheckMark,c=t.highlightedRepoList,s=n.map((function(t,n){return t.releaseDate?Object(i.jsx)(p.a,{item:!0,children:Object(i.jsx)(A,{repo:t,onClickTrashIcon:a,onClickCheckMark:r,highlightedRepoList:c,ref:e["repo-".concat(n)]})},n):null}));return Object(i.jsx)(p.a,{container:!0,justify:"center",spacing:2,alignItems:"center",direction:"column",children:s})}}]),n}(r.a.Component),H=n(143),U=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){},a.handleOnSubmit=function(e){e.preventDefault(),a.parseSearchInput(a.state.searchInput)},a.parseSearchInput=function(e){var t=e.split(" ").join("").split("/");a.setState({githubUser:t[0],githubRepo:t[1]},a.getRepoLatestRelease)},a.onClickTrashIcon=function(e){var t=a.state.repoList;t=t.filter((function(t){return t!==e})),a.setState({repoList:t})},a.getRepoLatestRelease=function(){var e=a.state,t=e.githubUser,n=e.githubRepo;fetch("https://api.github.com/repos/".concat(t,"/").concat(n,"/releases/latest"),{method:"GET",headers:a.state.headers}).then((function(e){return e.json()})).then((function(e){var t={releaseDate:e.published_at,tagName:e.tag_name,message:e.message,body:e.body,title:e.name,author:e.author.login,githubLink:e.html_url};a.getRepoGeneralInfo(t)}))},a.isRepoAlreadyTracked=function(e){var t,n=a.state.repoList,i=Object(o.a)(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.name===e.name&&r.tagName===e.tagName)return!0}}catch(c){i.e(c)}finally{i.f()}return!1},a.onClickCheckMark=function(e){console.log("check");var t=a.state.highlightedRepoList,n=t.indexOf(e);n>-1&&t.splice(n,1),a.setState({highlightedRepoList:t})},a.getRepoGeneralInfo=function(e){var t=a.state,n=t.githubUser,i=t.githubRepo,r=[],c=[];fetch("https://api.github.com/repos/".concat(n,"/").concat(i),{method:"GET",headers:a.state.headers}).then((function(e){return e.json()})).then((function(t){e.name=t.name,e.description=t.description,a.isRepoAlreadyTracked(e)||"Not Found"===e.message?a.isRepoAlreadyTracked&&a.isRepoGotNewRelease(e)?(r=a.state.repoList,r=a.deleteOutdatedRepo(r,e),(c=a.state.highlightedRepoList).push(e.name),a.setState({repoList:r,alert:"new release",highlightedRepoList:c})):a.isRepoAlreadyTracked(e)?a.setState({alert:"already tracked"}):"Not Found"===e.message&&a.setState({alert:"error"}):((r=a.state.repoList).push(e),(c=a.state.highlightedRepoList).push(e.name),a.setState({repoList:r,alert:"success",highlightedRepoList:c}))})).catch((function(e){console.log(e)}))},a.isRepoGotNewRelease=function(e){var t,n=a.state.repoList,i=Object(o.a)(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.name===e.name&&r.tagName!==e.tagName)return!0}}catch(c){i.e(c)}finally{i.f()}return!1},a.deleteOutdatedRepo=function(e,t){return e.filter((function(e){return e.name!==t.name}))},a.searchFieldInput=function(e){a.setState({searchInput:e.target.value})},a.onClickRefresh=function(){a.getRepoLatestRelease()},a.displayAlert=function(){switch(a.state.alert){case"success":return Object(i.jsx)(H.a,{severity:"success",children:"Added a new repo for tracking"});case"new release":return Object(i.jsx)(H.a,{severity:"success",children:"Success: found new releass(s)"});case"already tracked":return Object(i.jsx)(H.a,{severity:"warning",children:"You are already tracking this repository"});case"error":return Object(i.jsx)(H.a,{severity:"error",children:"Please check that you have the right user name and repository"});default:return Object(i.jsx)(H.a,{severity:"info",children:"Enter the GitHub user followed by a '/' and the name of the repository"})}},a.state={searchInput:"",githubUser:null,githubRepo:null,repoList:[],highlightedRepoList:[],headers:{Authorization:"Token a6397b9f1bf0a5dd23ba6c4d516e13a852334b96"}},a.repoListRef=r.a.createRef(),a}return Object(h.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{children:[this.displayAlert(),Object(i.jsxs)(p.a,{container:!0,alignItems:"center",spacing:5,direction:"column",className:"main-content",children:[Object(i.jsx)(p.a,{item:!0,className:"empty-space"}),Object(i.jsx)(p.a,{item:!0,className:"search-box",children:Object(i.jsx)(g,{searchFieldInput:this.searchFieldInput,handleOnSubmit:this.handleOnSubmit,onClickRefresh:this.onClickRefresh})}),Object(i.jsx)(p.a,{item:!0,children:Object(i.jsx)(F,{repoList:this.state.repoList,onClickTrashIcon:this.onClickTrashIcon,onClickCheckMark:this.onClickCheckMark,highlightedRepoList:this.state.highlightedRepoList,ref:this.repoListRef})})]})]})}}]),n}(r.a.Component),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(U,{})}),document.getElementById("root")),V()}},[[88,1,2]]]);
//# sourceMappingURL=main.9fd6423a.chunk.js.map